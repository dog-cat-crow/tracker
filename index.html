<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Device and Browser Info</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.8;
        }
        .info-line {
            padding: 5px 0;
            border-bottom: 1px solid #ddd;
        }
        #pixelStatus {
            padding: 10px;
            margin-top: 20px;
            border-radius: 5px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Device and Browser Information</h1>
    <div id="deviceInfo"></div>
    <div id="pixelStatus">Checking Google Analytics tracking pixel...</div>

    <script>
        async function displayDeviceInfo() {
            const infoDiv = document.getElementById("deviceInfo");
            let output = "";

            // User Agent
            output += `<div class="info-line">User Agent: ${navigator.userAgent}</div>`;

            // Platform
            output += `<div class="info-line">Platform: ${navigator.platform}</div>`;

            // System Time
            output += `<div class="info-line">System Time (UTC): ${new Date().toUTCString()}</div>`;

            // Number of CPU Cores
            output += `<div class="info-line">Number of CPU Cores: ${navigator.hardwareConcurrency || "Not available"}</div>`;

            // Memory (RAM)
            output += `<div class="info-line">Memory (RAM): ${navigator.deviceMemory || "Not available"} GB</div>`;

            // Battery Status
            if (navigator.getBattery) {
                const battery = await navigator.getBattery();
                output += `<div class="info-line">Battery Level: ${(battery.level * 100).toFixed(0)}%</div>`;
                output += `<div class="info-line">Charging: ${battery.charging ? "Yes" : "No"}</div>`;
                if (!battery.charging) {
                    output += `<div class="info-line">Time Remaining: ${
                        battery.dischargingTime > 0 ? (battery.dischargingTime / 60).toFixed(2) + " hours" : "Unknown"
                    }</div>`;
                }
            } else {
                output += `<div class="info-line">Battery Status: Not supported</div>`;
            }

            // Device Input Method
            output += `<div class="info-line">Touchscreen: ${"ontouchstart" in window ? "Yes" : "No"}</div>`;

            // Languages
            output += `<div class="info-line">Languages: ${navigator.languages.join(", ")}</div>`;

            // Storage Information
            if (navigator.storage && navigator.storage.estimate) {
                try {
                    const { quota, usage } = await navigator.storage.estimate();
                    output += `<div class="info-line">Storage Quota: ${(quota / (1024 * 1024)).toFixed(2)} MB</div>`;
                    output += `<div class="info-line">Used Storage: ${(usage / (1024 * 1024)).toFixed(2)} MB</div>`;
                } catch {
                    output += `<div class="info-line">Storage Details: Not available</div>`;
                }
            } else {
                output += `<div class="info-line">Storage API: Not supported</div>`;
            }

            output += `<div class="info-line">Local Storage: ${window.localStorage ? "Allowed" : "Blocked"}</div>`;
            output += `<div class="info-line">Session Storage: ${window.sessionStorage ? "Allowed" : "Blocked"}</div>`;
            output += `<div class="info-line">IndexedDB: ${window.indexedDB ? "Allowed" : "Blocked"}</div>`;

            // Browser Window Size
            output += `<div class="info-line">Browser Outer Size: ${window.outerWidth} x ${window.outerHeight} pixels</div>`;
            output += `<div class="info-line">Browser Inner Size: ${window.innerWidth} x ${window.innerHeight} pixels</div>`;

            // Screen Information
            output += `<div class="info-line">Screen Orientation: ${screen.orientation.type}</div>`;
            output += `<div class="info-line">Screen Resolution: ${screen.width} x ${screen.height} pixels</div>`;
            output += `<div class="info-line">Aspect Ratio: ${screen.width}:${screen.height}</div>`;
            output += `<div class="info-line">Device Pixel Ratio: ${window.devicePixelRatio}</div>`;
            output += `<div class="info-line">Color Depth: ${screen.colorDepth}-bit</div>`;

            // Do Not Track
            output += `<div class="info-line">Do Not Track: ${navigator.doNotTrack === "1" ? "Enabled" : "Disabled"}</div>`;

            // Insert all collected info into the page
            infoDiv.innerHTML = output;
        }

        function checkGoogleAnalyticsPixel() {
            const pixelStatusDiv = document.getElementById("pixelStatus");
            const img = new Image();
            img.onload = () => {
                pixelStatusDiv.textContent = "Google Analytics Pixel: Loaded Successfully";
                pixelStatusDiv.style.backgroundColor = "#d4edda"; // Green background for success
            };
            img.onerror = () => {
                pixelStatusDiv.textContent = "Google Analytics Pixel: Blocked or Not Loaded";
                pixelStatusDiv.style.backgroundColor = "#f8d7da"; // Red background for failure
            };
            img.src = "https://www.google-analytics.com/collect?v=1&t=event&tid=UA-000000-2&cid=555&ec=category&ea=action&el=label&ev=1";
        }

        // Execute both functions
        displayDeviceInfo();
        checkGoogleAnalyticsPixel();
    </script>
</body>
</html>